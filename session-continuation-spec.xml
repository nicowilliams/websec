<?xml version="1.0" encoding="UTF-8"?>
<?rfc tocindent="no"?>
<?rfc comments="yes"?>
<?rfc inline="yes"?>
<?rfc toc="yes"?>
<?rfc symrefs="yes"?>
<!DOCTYPE rfc SYSTEM "rfc2629.dtd" [
<!ENTITY rfc2616 PUBLIC "" "http://xml.resource.org/public/rfc/bibxml/reference.RFC.2616.xml">
<!ENTITY rfc2617 PUBLIC "" "http://xml.resource.org/public/rfc/bibxml/reference.RFC.2617.xml">
<!ENTITY rfc5246 PUBLIC "" "http://xml.resource.org/public/rfc/bibxml/reference.RFC.5246.xml">
<!ENTITY rfc5056 PUBLIC "" "http://xml.resource.org/public/rfc/bibxml/reference.RFC.5056.xml">
<!ENTITY rfc5929 PUBLIC "" "http://xml.resource.org/public/rfc/bibxml/reference.RFC.5929.xml">
<!ENTITY rfc5849 PUBLIC "" "http://xml.resource.org/public/rfc/bibxml/reference.RFC.5849.xml">
<!ENTITY I-D.ietf-oauth-v2 PUBLIC "" "http://xml.resource.org/public/rfc/bibxml3/reference.I-D.ietf-oauth-v2.xml">
<!ENTITY rfc4422 PUBLIC "" "http://xml.resource.org/public/rfc/bibxml/reference.RFC.4422.xml">
<!ENTITY rfc5802 PUBLIC "" "http://xml.resource.org/public/rfc/bibxml/reference.RFC.5802.xml">
<!ENTITY rfc4252 PUBLIC "" "http://xml.resource.org/public/rfc/bibxml/reference.RFC.4252.xml">
<!ENTITY rfc4559 PUBLIC "" "http://xml.resource.org/public/rfc/bibxml/reference.RFC.4559.xml">
<!ENTITY rfc6631 PUBLIC "" "http://xml.resource.org/public/rfc/bibxml/reference.RFC.6631.xml">
<!ENTITY rfc2743 PUBLIC "" "http://xml.resource.org/public/rfc/bibxml/reference.RFC.2743.xml">
<!ENTITY rfc5801 PUBLIC "" "http://xml.resource.org/public/rfc/bibxml/reference.RFC.5801.xml">
<!ENTITY rfc4121 PUBLIC "" "http://xml.resource.org/public/rfc/bibxml/reference.RFC.4121.xml">
]>
<rfc docName="draft-williams-websec-session-continue-proto-00" ipr="trust200902" category="std">
  <front>
    <title abbrev="HTTP Session Problem">Hypertext Transport Protocol (HTTP) Session Continuation Protocol</title>
    <author initials="N." surname="Williams" fullname="Nicolas Williams">
      <organization abbrev="Cryptonector">Cryptonector, LLC</organization>
      <address>
        <email>nico@cryptonector.com</email>
      </address>
    </author>
    <date month="December" year="2012"/>
    <area>
Security Area
</area>
    <keyword>Internet-Draft</keyword>
    <abstract>
      <t>
One of the most often talked about problems in web security is “cookies”. Web cookies are a method of associating requests with “sessions” that may have been authenticated somehow. Cookies are a form of bearer token that leave much to be desired. This document proposes a session “continuation” protocol for HyperText Transport Protocol (HTTP).</t>
    </abstract>
  </front>
  <middle>
    <section title="Introduction" anchor="sec_Introduction">
      <t>
[XXX Reference the problem statement.]</t>
    </section>
    <section title="Session Initiation" anchor="d1e177">
      <t>
Sessions are initiated either as an outcome of HTTP authentication, or by a client. Session identifiers, however, are assigned by the server.</t>
      <section title="Unauthenticated Session Initiation" anchor="d1e186">
        <t>
For unauthenticated session initiation the client includes a “Session-Init” header in its request. This header's value will consist of a base64-encoding of a randomly-generated octet string of at least 64 bits and up to 256 bits, and a boolean indicating whether the session will also operate without TLS. The server's response, if it agrees to session initiation, will contain a “Session-Init” header with a session identifier.</t>
        <t>
If the server accepts then the client and server will generate a session key as described in [...].</t>
        <t>
If the request is sent over HTTPS (TLS) then the client may allow the use of the session without TLS, in which case a second session key will be generated for use without TLS as described in [...].</t>
        <t>
[XXX Add a channel binding type negotiation, or perhaps say: tls-server-end-point if a server cert is used, else tls-unique.]</t>
        <t>
[XXX Add MAC and KDF algorithm negotiation.]</t>
      </section>
      <section title="HTTP Authentication Framework" anchor="d1e208"/>
      <section title="Unauthenticated to Authenticated Session Upgrade" anchor="d1e214"/>
    </section>
    <section title="Session Continuation" anchor="d1e220">
      <t>
Once a session is established the client binds requests to sessions as described here.</t>
      <t>
There are two cases: HTTPS and HTTP.</t>
      <t>
For the HTTPS case the client adds a “Session” header to its requests with the following content: the session identifier assigned by the server, a nonce generated by the client, and a MAC of the nonce and the TLS channel bindings.</t>
    </section>
    <section title="IANA Considerations" anchor="sec_IANA_Considerations">
      <t>
This document has no IANA considerations.</t>
    </section>
    <section title="Security Considerations" anchor="sec_Security_Considerations">
      <t>
[...]</t>
    </section>
  </middle>
  <back>
    <references title="Informative References" anchor="sec_Normative_References">&rfc2616;
&rfc2617;
&rfc5246;
&rfc5056;
&rfc5929;
&rfc5849;
&I-D.ietf-oauth-v2;
&rfc4422;
&rfc5802;
&rfc4252;
&rfc4559;
&rfc6631;
&rfc2743;
&rfc5801;
&rfc4121;
</references>
  </back>
</rfc>
